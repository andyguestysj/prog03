---
title: C Arrays
permalink: /docs/c2-03/
---

## Arrays

Arrays are created as follows.  

```c 
int iNumArray[3];
int iNum[5] = {1,5,2,4,3};
int Numbers[] = {3,6,2,8,7};
```
You can specify the size of the array explicitly or leave it blank and let the compiler define so it is big enough to store the initial data. The initial declaration must determine the size one way or another though.  

```c
int anArray[];
```
is not valid.  

Values in the array can be read or altered using an *index* value;

```c
int Numbers[] = {3,6,2,8,7};
printf("%d\n", Numbers[2]);
Numbers[3] = 1;
```

### Arrays and Addresses

```c
#include <stdio.h>

int main(void) {

int a[] = {1,1,1,1,1};
int b[] = {2,2,2,2,2};
int c[] = {3,3,3,3,3};

for (int i=0;i<5;i++)
{
  printf("array a[%d] %d at address %p\n",i,a[i], &a[i]);
}
printf("\n");

for (int i=0;i<5;i++)
{
  printf("array b[%d] %d at address %p\n",i,b[i], &b[i]);
}
printf("\n");

for (int i=0;i<5;i++)
{
  printf("array c[%d] %d at address %p\n",i,c[i], &c[i]);
}
printf("\n");

printf("\n");
printf("array c[%d] %d at address %p\n",0,a[0], &a[0]);
printf("array c[%d] %d at address %p\n",0,b[0], &b[0]);
printf("array c[%d] %d at address %p\n",0,c[0], &c[0]);

return 0;
}
```
Running the code above shows us a few of different things.  

Items in an array are stored sequentially. Integers take up four bytes in memory, the addresses of items in an integer array are four bytes apart. The array is stored in increasing memory addresses.  

When arrays are created one after another they are spaced so that the beginning is properly aligned. Each subsequent is stored in lower memory addresses.

```console
array a[0] 1 at address 0x7ffcb9621980
array a[1] 1 at address 0x7ffcb9621984
array a[2] 1 at address 0x7ffcb9621988
array a[3] 1 at address 0x7ffcb962198c
array a[4] 1 at address 0x7ffcb9621990

array b[0] 2 at address 0x7ffcb9621960
array b[1] 2 at address 0x7ffcb9621964
array b[2] 2 at address 0x7ffcb9621968
array b[3] 2 at address 0x7ffcb962196c
array b[4] 2 at address 0x7ffcb9621970

array c[0] 3 at address 0x7ffcb9621940
array c[1] 3 at address 0x7ffcb9621944
array c[2] 3 at address 0x7ffcb9621948
array c[3] 3 at address 0x7ffcb962194c
array c[4] 3 at address 0x7ffcb9621950


array c[0] 1 at address 0x7ffcb9621980
array c[0] 2 at address 0x7ffcb9621960
array c[0] 3 at address 0x7ffcb9621940
```

### C Array Bounds

The `bounds` of an array are the valid indexes that can be used to access the array.  

```c
int Numbers[] = {3,6,2,8,7};
```

`Numbers[]` above has a length of five, with valid indexes from 0 to 4.  

C however, will let you access *invalid indexes* that are outwith the bounds of the array.  

```c
int Numbers[] = {3,6,2,8,7};

Numbers[10] = 1;
Numbers[-2] = 1;
```

The compiler will *warn* you that the index is out of bounds but it will not stop you doing this. Doing this may cause your code to crash or may work. If it works its results may be unpredictable. For example the following code (available at [https://repl.it/@andyguest/cArrayBoundaryOverrun](https://repl.it/@andyguest/cArrayBoundaryOverrun))  

```c
#include <stdio.h>

int main(void) {

int a[] = {1,1,1,1};
int b[] = {2,2,2,2};

for (int i=0;i<4;i++)
{
  printf("array a[%d] %d at address £%p\n",i,a[i], &a[i]);
}
printf("\n");

for (int i=0;i<4;i++)
{
  printf("array b[%d] %d at address £%p\n",i,b[i], &b[i]);
}
printf("\n");

for (int i=0; i<8; i++)
{
  b[i]=3;
  printf("setting array b[%d] to %d at address £%p\n",i,b[i], &b[i]);
}
printf("\n");

for (int i=0;i<4;i++)
{
  printf("array a[%d] %d at address £%p\n",i,a[i], &a[i]);
}
printf("\n");

for (int i=0;i<4;i++)
{
  printf("array b[%d] %d at address £%p\n",i,b[i], &b[i]);
}
printf("\n");

return 0;

}
```

produces the following output  

```console
array a[0] 1 at address £0x7fff4d2abdc0
array a[1] 1 at address £0x7fff4d2abdc4
array a[2] 1 at address £0x7fff4d2abdc8
array a[3] 1 at address £0x7fff4d2abdcc

array b[0] 2 at address £0x7fff4d2abdb0
array b[1] 2 at address £0x7fff4d2abdb4
array b[2] 2 at address £0x7fff4d2abdb8
array b[3] 2 at address £0x7fff4d2abdbc

setting array b[0] to 3 at address £0x7fff4d2abdb0
setting array b[1] to 3 at address £0x7fff4d2abdb4
setting array b[2] to 3 at address £0x7fff4d2abdb8
setting array b[3] to 3 at address £0x7fff4d2abdbc
setting array b[4] to 3 at address £0x7fff4d2abdc0
setting array b[5] to 3 at address £0x7fff4d2abdc4
setting array b[6] to 3 at address £0x7fff4d2abdc8
setting array b[7] to 3 at address £0x7fff4d2abdcc

array a[0] 3 at address £0x7fff4d2abdc0
array a[1] 3 at address £0x7fff4d2abdc4
array a[2] 3 at address £0x7fff4d2abdc8
array a[3] 3 at address £0x7fff4d2abdcc

array b[0] 3 at address £0x7fff4d2abdb0
array b[1] 3 at address £0x7fff4d2abdb4
array b[2] 3 at address £0x7fff4d2abdb8
array b[3] 3 at address £0x7fff4d2abdbc
```

The array `b[]` is declared immeadiately after the array `a[]`, so `b[]` is at a lower memory address than `a[]` and expands up towards `a[]`.  

|Address|Array|Value|
|---|---|---|
|..b0|b[0]|2|
|..b4|b[1]|2|
|..b8|b[2]|2|
|..bc|b[3]|2|
|..c0|a[0]|1|
|..c4|a[1]|1|
|..c8|a[2]|1|
|..cc|a[3]|1|

|Array|Address|Value
|b[i]|&b[i]||
|---|---|---|
|b[0]|..b0|2|
|b[1]|..b4|2|
|b[2]|..b8|2|
|b[3]|..bc|2|
|b[4]|..c0|1|
|b[5]|..c4|1|
|b[6]|..c8|1|
|b[7]|..cc|1|




